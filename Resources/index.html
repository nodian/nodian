<html style="-webkit-backface-visibility: hidden; height: 100%;">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Nodian</title>
	<!-- FOR UI -->
	<!-- Loading Bootstrap -->
	<link href="core/bootstrap/css/bootstrap.css" rel="stylesheet">
	<link href="core/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

	<!-- Loading Our UI -->
	<link href="core/css/flat-ui.css" rel="stylesheet">

	<!-- Loading Our Custom Styles -->
	<link href="core/css/our.css" rel="stylesheet">
	<!-- END FOR UI -->

	<style type="text/css" media="screen">
		#editor {
		    position: absolute;
		    top: 0;
		    right: 0;
		    bottom: 0;
		    left: 0;
		}

		#editor-container {
		    position: relative;
		    height: 100%;
		}

		#editor-mask {
		    height: 1000px;
		    overflow-y: hidden;
		}

	</style>


</head>
<body id="content" style="height: 100%; background-color: #1abc9c;">

	<!-- navbar-inverse -->
	<div class="navbar" style="margin-bottom: 0px;">
		<div class="navbar-inner">
			<div class="container">
				<button type="button" class="btn btn-navbar" data-toggle="collapse" data-target="#nav-collapse-03">
				</button>

				<a href="index.html" class="brand"><img src="base/logowrit.png"></a>
				<div class="nav-collapse collapse" id="nav-collapse-03">

					<ul class="nav">
						<li>
							<a class="fui-folder" href="#" id="openproject"> Project</a>
						</li>
						<li>
							<a class="fui-export" href="#" id="savefile"> Save</a>
						</li>
						<li>
							<a href="npm.html">
								<img src="base/npm3.png">
							</a>
						</li>
						
						<li>
							<a class="fui-gear" href="settings.html"> Options</a>
						</li>
					</ul>
					<ul class="nav pull-right" style="-webkit-backface-visibility: hidden;">
						<li class="divider"></li>
						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">
								<img src="base/nodejs3.png">
								<span class="fui-arrow-right"></span>
								<!-- <b class="caret"></b> -->
							</a>
							<div class="dropdown-menu dropdown-inverse" id="nodedrop" role="menu" style="overflow-y: auto; min-height: 500px; max-height: 510px; min-width: 300px; max-width: 310px;">
								<div style="margin: 20px;">
									<button class="btn btn-info" style="margin-right: 5px;"><span class="fui-play"></span> Run Node </button>
									<button class="btn btn-warning"><span class="fui-cross"></span> Reset Node </button>
									<textarea id="nodecomm" class="span6" style="margin: 20px 0px 3px 0px; resize: none;" rows="1" placeholder="Instance command"></textarea>
									<p class="lead">Console</p>
									<textarea class="span6" style="margin: 0px 0px; resize: none;" rows="12" placeholder=""></textarea>
								</div>
							</div>
						</li>
					</ul>
					<ul class="nav pull-right">
						<div class="control-group small" style="margin-top: 23px;">
				            <div class="input-append">
				              <input class="span2" id="appendedInputButton-04" style="height: 34px;" type="text" placeholder="Search">
				              <button class="btn btn-small" type="button"><span class="fui-search"></span></button>
				            </div>
				        </div>
                  	</ul>
					 <!-- /nav -->
				</div><!--/.nav-collapse -->
			</div>
		</div>
	</div> <!-- /navbar-inverse -->

  <!-- Alert Modal -->
  <div class="modal fade" id="alert" tabindex="-1" role="dialog" aria-labelledby="alertNodian" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="alerttitle">Error occured</h4>
        </div>
        <div class="modal-body" id="alerttext">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="declinealertbtn"></button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <!-- Namer Modal -->
  <div class="modal fade" id="namer" tabindex="-1" role="dialog" aria-labelledby="namerNodian" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="namertitle"></h4>
        </div>
        <div class="modal-body">
			<div class="control-group huge">
			    <input style="width: 100%;" type="text" id="namertext" placeholder="Name for it..." value=""></input>
			</div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="nameryesbtn"></button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="namernobtn"></button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->

  <!-- Yes No Modal -->
  <div class="modal fade" id="yesno" tabindex="-1" role="dialog" aria-labelledby="yesnoNodian" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
          <h4 class="modal-title" id="yesnotitle"></h4>
        </div>
        <div class="modal-body" id="yesnotext">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal" id="declineyesnobtn"></button>
          <button type="button" class="btn btn-primary" id="acceptyesnobtn"></button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->


	<div id="core">
	<a data-toggle="modal" href="#alert" id="alerttoggle"></a>
	<a data-toggle="modal" href="#namer" id="namertoggle"></a>

		<div id="treeview" style="width: 30%; float:left; overflow: auto;">

		</div>


		<div id="editor-container" style="width: 70%; float:right;">
			<div id="editor" >
			function foo(items) {
				var x = "All this is syntax highlighted";
				return x;
			}
			</div>
		</div>

		<div style="clear:both"></div>
	</div>

<script type="text/php">

function IsBinary($file) 
{ 
  if (file_exists($file)) { 
    if (!is_file($file)) return 0; 

    $fh  = fopen($file, "r"); 
    $blk = fread($fh, 512); 
    fclose($fh); 
    clearstatcache(); 

    return ( 
      0 or substr_count($blk, "^ -~", "^\r\n")/512 > 0.3 
        or substr_count($blk, "\x00") > 0 
    ); 
  } 
  return 0; 
}
</script>

<script type="text/ruby">
	def renameit(oldfile, newfile)
		File.rename(oldfile, newfile)
	end
</script>
</body>


<script type="text/javascript" src="base/jquery-1.10.2.js"></script>
<script type="text/javascript" src="base/underscore.js"></script>


<!-- FOR UI -->
<script src="core/js/jquery-ui-1.10.3.custom.min.js"></script>
<script src="core/js/jquery.ui.touch-punch.min.js"></script>
<script src="core/js/bootstrap.min.js"></script>
<script src="core/js/bootstrap-select.js"></script>
<script src="core/js/bootstrap-switch.js"></script>
<script src="core/js/flatui-checkbox.js"></script>
<script src="core/js/flatui-radio.js"></script>
<script src="core/js/jquery.tagsinput.js"></script>
<script src="core/js/jquery.placeholder.js"></script>
<script src="core/js/jquery.stacktable.js"></script>
<!-- END FOR UI -->

<!-- Tree View -->
<script type="text/javascript" src="base/jstree/jquery.jstree.js"></script>
<script type="text/javascript" src="base/jqwidgets/jqx-all.js"></script>

<script type="text/javascript" src="base/ace/ace-builds/src-noconflict/ace.js" charset="utf-8"></script>

<!-- OUR SCRIPTS -->
<script type="text/javascript" src="base/gui.js"></script>
<script type="text/javascript" src="base/core.js"></script>
<script type="text/javascript" src="base/process.js"></script>
<!-- end OUR SCRIPTS -->

<script type="text/javascript">
	var editor = ace.edit("editor");
	editor.setTheme("ace/theme/solarized_dark");
	editor.getSession().setMode("ace/mode/javascript");

	editor.getSession().setUseWrapMode(true);
	var lastLine = $("#editor .ace_gutter-cell:last");

	function setEditorHeight(){
		var lastLine = $("#editor .ace_gutter-cell:last");
		var neededHeight = lastLine.position().top + lastLine.outerHeight();
		$("#editor-mask").height(neededHeight);
	}

	$(window).on('resize', setEditorHeight);
	setEditorHeight();

</script>

</html>
